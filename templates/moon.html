{% extends 'base.html' %}
{% block main %}

<body class="w-[100%] box-border h-[100vh] p-0 m-0 text-center bg-[#0C0D12] text-white">
    
    <div class="first-page w-[100%] min-h-[100vh] flex flex-col">
        <div class="title lg:text-[5rem] text-[2rem] uppercase">Explore Our Moon!</div>
        <div class="content flex lg:flex-row flex-col">
            <script type="module" src="https://unpkg.com/@splinetool/viewer@1.0.55/build/spline-viewer.js"></script>
            <spline-viewer url="https://prod.spline.design/NDpsjxGaXfFVwQel/scene.splinecode"></spline-viewer>
            <div class="lg:w-[70%] lg:text-start p-[2rem] text-center">
                <span style="margin: auto;" class="m-auto">The Moon, Earth's celestial companion, has captivated human imagination for millennia with its luminous presence in the night sky. As our closest cosmic neighbor, the Moon holds a special place in both scientific exploration and cultural lore, offering a wealth of mysteries waiting to be uncovered.

                With its barren, cratered surface and desolate landscapes, the Moon presents a stark contrast to the lush and vibrant Earth below. Its surface bears the scars of countless impacts, testifying to the violent history of our solar system. Yet, amidst its rugged terrain lies a beauty that is both haunting and sublime, with craters illuminated by the soft glow of lunar light and shadows stretching across its vast plains.</span>
            </div>
        </div>
    </div>
    <div class="container w-[100%] lg:h-[100vh]">
        <h1 class="title lg:text-[5rem] text-[2rem]">Tourist Destinations</h1>    
        <div class="flex flex-col h-[100%]">
            <div class="flex flex-col lg:flex-row h-[40%] mx-auto gap-x-2 my-2 lg:w-[50%]">
                <div class="max-w-sm m-auto border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700 w-[50%] h-[100%]">
                    <a href="#">
                        <img src="{{ url_for('static', filename='/assets/moon/moon1.jpg') }}" alt="Image 3" class="m-auto rounded-2xl h-[70%] w-[100%]">
                    </a>
                    <div class="p-5">
                            <h5 class="">Craters: Windows to the Moon's Ancient Past</h5>
                    </div>
                </div>
                <div class="max-w-sm m-auto border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700 w-[50%] h-[100%]">
                    <a href="#">
                        <img src="{{ url_for('static', filename='/assets/moon/moon2.jpg') }}" alt="Image 3" class="m-auto rounded-2xl h-[70%] w-[100%]">
                    </a>
                    <div class="p-5">
                            <h5 class="">Copernicus Crater: A Cosmic Testament to Celestial Forces</h5>
                    </div>
                </div>
            </div>
            <div class="flex flex-col lg:flex-row lg:h-[40%] mx-auto gap-2 lg:w-[50%]">
                <div class="max-w-sm m-auto border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700 w-[50%] h-[100%]">
                    <a href="#">
                        <img src="{{ url_for('static', filename='/assets/moon/moon3.jpg') }}" alt="Image 3" class="m-auto rounded-2xl h-[70%] w-[100%]">
                    </a>
                    <div class="p-5">
                            <h5 class="">Unveiling the Hidden Wonders of Lunar Lava Tubes</h5>
                    </div>
                </div>
                <div class="max-w-sm m-auto border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700 w-[50%] h-[100%]">
                    <a href="#">
                        <img src="{{ url_for('static', filename='/assets/moon/moon4.jpg') }}" alt="Image 3" class="m-auto rounded-2xl h-[70%] w-[100%]">
                    </a>
                    <div class="p-5">
                            <h5 class="">Exploring the Hallowed Grounds of the Apollo Landing Sites</h5>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="book-tix w-[100%] lg:h-[100vh] flex flex-col p-2">
        <div class="title lg:text-[5rem] text-[1.2rem] p-1">Book Your Spacecraft</div>
        <div class="book-box m-auto w-[100%] lg:w-[60%] h-[80%] border-2 border-indigo-600 lg:rounded-tl-[200px] rounded-md flex flex-col p-5">
            <form id="tixForm" class="top text-black h-[25%] border border-t-0 border-l-0 border-r-0 border-b-[0.1px] flex lg:flex-row flex-col" action="#" onchange="load()">
                <div class="date m-auto flex flex-col gap-3">
                    <p id="date">25 May 2095</p>
                    <input type="date" name="date" id="idate" onchange="updateDate()"/>
                </div>
                <div class="deets m-auto w-[40%] flex flex-col gap-2 text-[#C5CED6]">
                    <div class="origin" oninput="updateDate()">
                        <select name="destination" id="destination" class="select w-[100%]">
                            <option value="jupiter">Mars</option>
                            <option value="saturn">Saturn</option>
                            <option value="earth">Moon</option>
                        </select>
                    </div>
                    <div class="passengers">
                        <input type="text" value="1" name="passengers" id="passeng" class="w-[100%] select" oninput="updateCost()"/>
                    </div>
                </div>
            </form>  
            <div class="flex lg:flex-row flex-col h-[100%]">
                <div class="ticketContainer">
                    <div class="ticket w-[65%]">
                        <div class="ticketTitle">
                            <span class="text-white tix-title">DELTA V</span>
                            <span id="costspan" class="tix-title">₹100</span>
                          </div>
                      <div class="ticketDetail flex flex-col items">
                        <div class="items text-white text-[12px]">
                            Takeoff Date
                        </div>
                        <div class="flex flex-row justify-center gap-2 items">
                            <span id="takeoffDate" class="text-lg">25</span>
                            <div class="flex flex-col text-[0.5rem]">
                                <span id="takeoffmonth" class="text-[12px]">May 2095</span>
                                <span id="takeoffDay">Monday</span>
                            </div>
                            <span>&#9992;</span>
                        </div>
                        <div class="items text-white text-[12px]">
                            Return Date
                        </div>
                        <div class="flex flex-row justify-center gap-2 items">
                            <span id="returnDate" class="text-lg">25</span>
                            <div class="flex flex-col text-[0.5rem]">
                                <span id="returnMonth" class="text-[12px]">May 2095</span>
                                <span id="returnDay">Monday</span>
                            </div>
                            <span>&#9992;</span>
                        </div>
                      </div>
                      <div class="ticketRip">
                        <div class="circleLeft"></div>
                        <div class="ripLine"></div>
                        <div class="circleRight"></div>
                      </div>
                      <div class="ticketSubDetail flex flex-col justify-end">
                        <div class="text-[18px] items text-white">Inclusions</div>
                        <div class="items">&#x1F4F6; Wifi</div>
                        <div class="items">&#x1F9E5; Spacesuit</div>
                        <div class="items">&#x1F371; Food</div>
                        <button class="bbtn text-white" onclick="submit()">Book Now > </button>
                      </div>
                    </div>
                    <div class="ticketShadow"></div>
                </div>   
                <div class="ticketContainer">
                    <div class="ticket w-[65%]">
                        <div class="ticketTitle">
                            <span class="text-white tix-title">SPACE X</span>
                            <span id="costspan2" class="tix-title">₹600</span>
                          </div>
                      <div class="ticketDetail flex flex-col items">
                        <div class="text-[12px] items text-white">
                            Takeoff Date
                        </div>
                        <div class="flex flex-row justify-center gap-2 items">
                            <span id="takeoffDate2" class="text-lg">25</span>
                            <div class="flex flex-col text-[0.5rem]">
                                <span id="takeoffmonth2" class="text-[12px]">June 2095</span>
                                <span id="takeoffDay2">Tuesday</span>
                            </div>
                            <span>&#9992;</span>
                        </div>
                        <div class="text-[12px] items text-white">
                            Return Date
                        </div>
                        <div class="flex flex-row justify-center gap-2 items">
                            <span id="returnDate2" class="text-lg">25</span>
                            <div class="flex flex-col text-[0.5rem]">
                                <span id="returnMonth2" class="text-[12px]">May 2095</span>
                                <span id="returnDay2">Monday</span>
                            </div>
                            <span>&#9992;</span>
                        </div>
                      </div>
                      <div class="ticketRip">
                        <div class="circleLeft"></div>
                        <div class="ripLine"></div>
                        <div class="circleRight"></div>
                      </div>
                      <div class="ticketSubDetail flex flex-col justify-end">
                        <div class="text-[18px] items text-white ">Inclusions</div>
                        <div class="items">&#x1F4F6; Wifi and Cellular</div>
                        <div class="items">&#x1F9E5; Spacesuit</div>
                        <div class="items">&#x1F371; Food</div>
                        <button class="bbtn text-white" onclick="submit()">Book Now > </button>
                      </div>
                    </div>
                    <div class="ticketShadow"></div>
                </div>  
            </div>     
        </div>
    </div>
</body>

<script>
    var inputDate = document.getElementById("idate");
    var passengers = document.getElementById("passeng");
    var cost = document.getElementById("costspan");
    var cost2 = document.getElementById("costspan2");
    var destination = document.getElementById("destination");

    var planets = ["mars", "jupiter", "saturn", "earth"];

    function load() {
    }

    function updateCost() {
        cost.textContent = "₹" + passengers.value * 100;
        cost2.textContent = "₹" + passengers.value * 500;
    }

    function submit() {
        var el = document.getElementById("tixForm");
        el.submit();
    }

    function updateDate() {

        var planet = destination.value ? destination.value : "mars" ;
        var distance;
        if(planet == "mars") distance = 10;
        else if(planet == "jupiter") distance = 20;
        else if(planet == "saturn") distance = 30;
        else distance = 40;

        var selectedDate = inputDate.value;
        selectedDate = selectedDate.split('-');

        var dateObject = new Date(selectedDate);
        var dayOfWeekIndex = dateObject.getDay();
        var dayNames = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
        var dayName = dayNames[dayOfWeekIndex];

        var futureDateObject = new Date(dateObject.getTime() + (distance) * 24 * 60 * 60 * 1000);
        var futureDateObject2 = new Date(dateObject.getTime() + (distance - 5) * 24 * 60 * 60 * 1000);

        var FdayOfWeekIndex = futureDateObject.getDay();
        var FdayName = dayNames[FdayOfWeekIndex];
        var FdayOfWeekIndex2 = futureDateObject2.getDay();
        var FdayName2 = dayNames[FdayOfWeekIndex2];

        var monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];

        var FmonthIndex = futureDateObject.getMonth();
        var FmonthName = monthNames[FmonthIndex];
        var FdayOfMonth = futureDateObject.getDate();
        var formattedFutureDate = FdayName + ", " + FmonthName + " " + FdayOfMonth + ", " + futureDateObject.getFullYear();
        var FmonthIndex2 = futureDateObject2.getMonth();
        var FmonthName2 = monthNames[FmonthIndex2];
        var FdayOfMonth2 = futureDateObject2.getDate();
        var formattedFutureDate2 = FdayName2 + ", " + FmonthName2 + " " + FdayOfMonth2 + ", " + futureDateObject.getFullYear();

        returnDate.textContent = FdayOfMonth;
        returnMonth.textContent = FmonthName + " " + futureDateObject.getFullYear();
        returnDay.textContent = FdayName;
        returnDate2.textContent = FdayOfMonth2;
        returnMonth2.textContent = FmonthName2 + " " + futureDateObject2.getFullYear();
        returnDay2.textContent = FdayName2;

        var monthIndex = parseInt(selectedDate[1]) - 1;
        var monthName = monthNames[monthIndex];
        var paragraph = document.getElementById("date");
        paragraph.textContent = selectedDate[2] + " " + monthName + " " + selectedDate[0];
        takeoffDate.textContent = selectedDate[2];
        takeoffmonth.textContent = monthName + " " + selectedDate[0];
        takeoffDay.textContent = dayName;
        takeoffDate2.textContent = selectedDate[2];
        takeoffmonth2.textContent = monthName + " " + selectedDate[0];
        takeoffDay2.textContent = dayName;
    }
</script>

{% endblock %}